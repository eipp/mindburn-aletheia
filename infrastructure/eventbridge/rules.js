"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.createMetricsAnalysisRule = createMetricsAnalysisRule;
const cdk = require("aws-cdk-lib");
const events = require("aws-cdk-lib/aws-events");
const targets = require("aws-cdk-lib/aws-events-targets");
function createMetricsAnalysisRule(stack, metricsAnalysisFunction) {
    return new events.Rule(stack, 'MetricsAnalysisRule', {
        schedule: events.Schedule.rate(cdk.Duration.hours(24)),
        targets: [new targets.LambdaFunction(metricsAnalysisFunction)],
        description: 'Triggers daily metrics analysis for the verification system',
        enabled: true,
    });
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicnVsZXMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJydWxlcy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUtBLDhEQVVDO0FBZkQsbUNBQW1DO0FBQ25DLGlEQUFpRDtBQUNqRCwwREFBMEQ7QUFHMUQsU0FBZ0IseUJBQXlCLENBQ3ZDLEtBQWdCLEVBQ2hCLHVCQUF3QztJQUV4QyxPQUFPLElBQUksTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUUscUJBQXFCLEVBQUU7UUFDbkQsUUFBUSxFQUFFLE1BQU0sQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ3RELE9BQU8sRUFBRSxDQUFDLElBQUksT0FBTyxDQUFDLGNBQWMsQ0FBQyx1QkFBdUIsQ0FBQyxDQUFDO1FBQzlELFdBQVcsRUFBRSw2REFBNkQ7UUFDMUUsT0FBTyxFQUFFLElBQUk7S0FDZCxDQUFDLENBQUM7QUFDTCxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgY2RrIGZyb20gJ2F3cy1jZGstbGliJztcbmltcG9ydCAqIGFzIGV2ZW50cyBmcm9tICdhd3MtY2RrLWxpYi9hd3MtZXZlbnRzJztcbmltcG9ydCAqIGFzIHRhcmdldHMgZnJvbSAnYXdzLWNkay1saWIvYXdzLWV2ZW50cy10YXJnZXRzJztcbmltcG9ydCAqIGFzIGxhbWJkYSBmcm9tICdhd3MtY2RrLWxpYi9hd3MtbGFtYmRhJztcblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZU1ldHJpY3NBbmFseXNpc1J1bGUoXG4gIHN0YWNrOiBjZGsuU3RhY2ssXG4gIG1ldHJpY3NBbmFseXNpc0Z1bmN0aW9uOiBsYW1iZGEuRnVuY3Rpb25cbik6IGV2ZW50cy5SdWxlIHtcbiAgcmV0dXJuIG5ldyBldmVudHMuUnVsZShzdGFjaywgJ01ldHJpY3NBbmFseXNpc1J1bGUnLCB7XG4gICAgc2NoZWR1bGU6IGV2ZW50cy5TY2hlZHVsZS5yYXRlKGNkay5EdXJhdGlvbi5ob3VycygyNCkpLFxuICAgIHRhcmdldHM6IFtuZXcgdGFyZ2V0cy5MYW1iZGFGdW5jdGlvbihtZXRyaWNzQW5hbHlzaXNGdW5jdGlvbildLFxuICAgIGRlc2NyaXB0aW9uOiAnVHJpZ2dlcnMgZGFpbHkgbWV0cmljcyBhbmFseXNpcyBmb3IgdGhlIHZlcmlmaWNhdGlvbiBzeXN0ZW0nLFxuICAgIGVuYWJsZWQ6IHRydWUsXG4gIH0pO1xufVxuIl19